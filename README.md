<p align="right">
  <strong>ä¸­æ–‡</strong> | <a href="README_EN.md">English</a>
</p>

<p align="center">
  <img src="docments/logo-light.svg" alt="Aneiang.Pa" width="150" style="vertical-align:middle;border-radius:8px;" />
  <h1 align="center">Aneiang.Pa.News - å…¨ç½‘çƒ­ç‚¹èšåˆå¹³å°</h1>
  <p align="center">
    <a href="https://github.com/AneiangSoft/Aneiang.Pa.News/stargazers">
      <img src="https://img.shields.io/github/stars/AneiangSoft/Aneiang.Pa.News?style=social" alt="GitHub stars">
    </a>
    <a href="https://github.com/AneiangSoft/Aneiang.Pa.News/network/members">
      <img src="https://img.shields.io/github/forks/AneiangSoft/Aneiang.Pa.News?style=social" alt="GitHub forks">
    </a>
    <a href="https://github.com/AneiangSoft/Aneiang.Pa.News/issues">
      <img src="https://img.shields.io/github/issues/AneiangSoft/Aneiang.Pa.News" alt="GitHub issues">
    </a>
    <a href="https://github.com/AneiangSoft/Aneiang.Pa.News/blob/master/LICENSE">
      <img src="https://img.shields.io/github/license/AneiangSoft/Aneiang.Pa.News" alt="License">
    </a>
    <a href="https://hub.docker.com/r/caco/aneiang-pa-news">
      <img src="https://img.shields.io/docker/pulls/caco/aneiang-pa-news" alt="Docker Pulls">
    </a>
  </p>
</p>


## ğŸŒŸ é¡¹ç›®ä»‹ç»

Aneiang.Pa.News æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„çƒ­ç‚¹/çƒ­æœèšåˆå¹³å°ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›ä¸€ç«™å¼çš„çƒ­ç‚¹èµ„è®¯æµè§ˆä½“éªŒã€‚é€šè¿‡æ™ºèƒ½æŠ“å–å¤šä¸ªä¸»æµå¹³å°çš„çƒ­ç‚¹å†…å®¹ï¼Œç»“åˆä¼˜é›…çš„ç•Œé¢è®¾è®¡ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå¿«é€Ÿäº†è§£å…¨ç½‘çƒ­ç‚¹ã€‚

### âœ¨ ä¸»è¦ç‰¹æ€§

- **å¤šå¹³å°èšåˆ**ï¼šæ•´åˆå¾®åšã€çŸ¥ä¹ã€ç™¾åº¦ã€ä»Šæ—¥å¤´æ¡ç­‰å¤šä¸ªå¹³å°çš„çƒ­æœæ¦œå•ã€‚
- **ä¸ªæ€§åŒ–æ¥æºç®¡ç†**ï¼šæ”¯æŒæ‹–æ‹½æ’åºã€éšè—/æ˜¾ç¤ºæ–°é—»æ¥æºï¼Œå®šåˆ¶è‡ªå·±çš„ä¿¡æ¯æµã€‚
- **å¤šç§é˜…è¯»æ¨¡å¼**ï¼šæ”¯æŒâ€œç«™å†…é˜…è¯»â€ï¼ˆæŠ½å±‰å¼¹å±‚ï¼‰å’Œâ€œæ–°æ ‡ç­¾é¡µæ‰“å¼€â€ï¼Œæ»¡è¶³ä¸åŒé˜…è¯»ä¹ æƒ¯ã€‚
- **ä¸°å¯Œçš„ä¸»é¢˜**ï¼šå†…ç½®æµ…è‰²ã€æ·±è‰²ã€æŠ¤çœ¼ä¸‰ç§ä¸»é¢˜ï¼Œå¹¶æ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜è‰²ã€‚
- **æ”¶è—å¤¹**ï¼šä¸€é”®æ”¶è—æ„Ÿå…´è¶£çš„çƒ­ç‚¹ï¼Œæ–¹ä¾¿ç¨åé˜…è¯»å’Œå›é¡¾ã€‚
- **å¼ºå¤§çš„åˆ†äº«åŠŸèƒ½**ï¼š
  - **æµ·æŠ¥åˆ†äº«**ï¼šä¸€é”®ç”Ÿæˆç²¾ç¾çš„çƒ­æ¦œæµ·æŠ¥ï¼Œé€‚åˆç¤¾äº¤åª’ä½“ä¼ æ’­ã€‚
  - **å¿«ç…§å¤åˆ¶**ï¼šä»¥ Markdown æ ¼å¼å¤åˆ¶æ¦œå•å†…å®¹ï¼Œä¾¿äºåœ¨æ–‡æœ¬ç¯å¢ƒåˆ†äº«ã€‚
  - **ç­›é€‰é“¾æ¥**ï¼šå°†å½“å‰çš„æœç´¢ã€æ¥æºè¿‡æ»¤æ¡ä»¶ç”Ÿæˆä¸€ä¸ªå¯åˆ†äº«çš„é“¾æ¥ã€‚
- **å¤§æ¨¡å‹æ’è¡Œæ¦œ**ï¼šé›†æˆå¹¶å±•ç¤ºå¤§è¯­è¨€æ¨¡å‹æ€§èƒ½æ’è¡Œæ¦œï¼ˆç”±åç«¯ `/api/features` æ§åˆ¶æ˜¯å¦å¯ç”¨ï¼‰ã€‚
- **Docker ä¸€é”®éƒ¨ç½²**ï¼šæä¾›å¼€ç®±å³ç”¨çš„ Docker é•œåƒå’Œ Compose é…ç½®ï¼Œæ”¯æŒå¿«é€Ÿã€è·¨å¹³å°éƒ¨ç½²ã€‚

### ğŸš€ åœ¨çº¿ä½“éªŒ

- **åœ¨çº¿é¢„è§ˆ**ï¼š[https://news.aneiang.com/](https://news.aneiang.com/)
- **Docker é•œåƒ**ï¼š`caco/aneiang-pa-news`ï¼ˆå»ºè®®ä½¿ç”¨å›ºå®šç‰ˆæœ¬ tagï¼Œä¾‹å¦‚ `:1.0.7`ï¼‰

> PS: é¡¹ç›®åŸºäº **Aneiang.Pa** çˆ¬è™«åº“å®ç°ï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥ç‚¹å‡»äº†è§£ï¼š
> - **Github**: [https://github.com/AneiangSoft/Aneiang.Pa](https://github.com/AneiangSoft/Aneiang.Pa)
> - **Gitee**: [https://gitee.com/AneiangSoft/Aneiang.Pa](https://gitee.com/AneiangSoft/Aneiang.Pa)

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```mermaid
graph TD
    A[ç”¨æˆ·æµè§ˆå™¨] -->|è¯·æ±‚| B[Vite + React å‰ç«¯ï¼ˆPa.HotNews.Webï¼‰]
    B -->|API è°ƒç”¨| C[ASP.NET Core Web APIï¼ˆPa.HotNews.Apiï¼‰]
    C -->|æŠ“å–æ•°æ®| D[ç¬¬ä¸‰æ–¹å¹³å°]
    C -->|ç¼“å­˜| E[å†…å­˜ç¼“å­˜ / Redis]
    C -->|ç«™ç‚¹é…ç½® / åŠŸèƒ½å¼€å…³| G1[/api/site-config & /api/features]
    C -->|æ—¥å¿—| F[æ—¥å¿—ç³»ç»Ÿï¼ˆSerilogï¼‰]

    subgraph éƒ¨ç½²ï¼ˆDockerï¼‰
    G[Docker å®¹å™¨] --> H[å‰ç«¯é™æ€æ–‡ä»¶ï¼ˆVite build äº§ç‰©ï¼‰]
    G --> I[.NET è¿è¡Œæ—¶]
    end
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯ (`Pa.HotNews.Web`)
- **æ¡†æ¶**ï¼šReact 19 (JavaScript, JSX)
- **æ„å»ºå·¥å…·**ï¼šVite 7.x
- **UI ç»„ä»¶åº“**ï¼šAnt Design 6.x
- **è·¯ç”±**ï¼šReact Router v7
- **HTTP å®¢æˆ·ç«¯**ï¼šAxios
- **ä»£ç è§„èŒƒ**ï¼šESLint

### åç«¯ (`Pa.HotNews.Api`)
- **è¿è¡Œæ—¶**ï¼š.NET 8
- **Web æ¡†æ¶**ï¼šASP.NET Core 8
- **HTTP å®¢æˆ·ç«¯**ï¼šHttpClientFactory
- **ä¾èµ–æ³¨å…¥**ï¼šå†…ç½® DI å®¹å™¨
- **æ—¥å¿—ç³»ç»Ÿ**ï¼šSerilog
- **é…ç½®ç®¡ç†**ï¼šJSON + ç¯å¢ƒå˜é‡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ Aï¼šä½¿ç”¨ Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

ç¡®ä¿å·²å®‰è£… Docker å’Œ Docker Composeã€‚

#### 1. ä½¿ç”¨ `docker run`

```bash
# æ‹‰å–æœ€æ–°é•œåƒ
docker pull caco/aneiang-pa-news:1.0.7

# å‡†å¤‡æ—¥å¿—ç›®å½•
mkdir -p logs

# è¿è¡Œå®¹å™¨
docker run -d --name aneiang-pa-news \
  -p 5000:8080 \
  -e ASPNETCORE_URLS=http://+:8080 \
  -e ASPNETCORE_ENVIRONMENT=Production \
  -e Scraper__CacheProvider=Memory \
  caco/aneiang-pa-news:1.0.7
```

#### 2. ä½¿ç”¨ `docker-compose`

ä»“åº“å†…æä¾›äº† `docker-compose.yml` ç¤ºä¾‹ï¼Œæ¨èä½¿ç”¨ Redis ä½œä¸ºç¼“å­˜åç«¯ä»¥è·å¾—æ›´ä½³æ€§èƒ½å’Œå¤šå®ä¾‹æ”¯æŒã€‚

**å¢å¼ºç‰ˆï¼ˆRedis ç¼“å­˜ï¼Œæ¨èï¼‰**ï¼š

> âš ï¸ æ³¨æ„ï¼šè¯·æŠŠä¸‹é¢çš„ Redis åœ°å€ã€å¯†ç ç­‰æ”¹æˆä½ è‡ªå·±çš„ï¼›å»ºè®®ä¸è¦æŠŠçœŸå®å¯†ç æäº¤åˆ°å…¬å¼€ä»“åº“ã€‚

```yaml
services:
  hotnews:
    image: caco/aneiang-pa-news:1.0.7
    container_name: aneiang-pa-news
    ports:
      - "5000:8080"
    environment:
      ASPNETCORE_URLS: "http://+:8080"
      ASPNETCORE_ENVIRONMENT: "Production"

      # çˆ¬è™«ç¼“å­˜ï¼ˆRedisï¼‰
      Scraper__CacheProvider: "Redis"
      Scraper__CacheDuration: "00:30:00"
      Scraper__Redis__Configuration: "<redis-host>:6379,password=<redis-password>,defaultDatabase=3"
      Scraper__Redis__InstanceName: "Aneiang.Pa:"

      # ç«™ç‚¹ä¿¡æ¯ï¼ˆé¡µçœ‰/é¡µè„šï¼‰
      Site__Title: "Aneiang çƒ­æ¦œèšåˆ"
      Site__TitleSuffix: " - å…¨ç½‘çƒ­ç‚¹å®æ—¶èšåˆ"
      Site__IcpLicense: "æ¹˜ICPå¤‡2023022000å·-2"

      # å¤§æ¨¡å‹æ’è¡Œæ¦œï¼ˆå¯é€‰ï¼‰
      # LlmRanking__ApiKey: "<your-api-key>"

    volumes:
      - ./logs:/app/logs
    restart: unless-stopped
```

ç„¶åå¯åŠ¨æœåŠ¡ï¼š

```bash
# å‡†å¤‡æ—¥å¿—ç›®å½•
mkdir -p logs

# å¯åŠ¨æœåŠ¡
docker compose up -d

# æ›´æ–°æœåŠ¡ï¼ˆæ‹‰å–æ–°é•œåƒå¹¶é‡å¯ï¼‰
# docker compose pull && docker compose up -d
```

å¯åŠ¨åï¼š

- **Web é¦–é¡µ**ï¼š`http://localhost:5000/`
- **API æ–‡æ¡£**ï¼š`http://localhost:5000/swagger`ï¼ˆä»…å½“ `ASPNETCORE_ENVIRONMENT` è®¾ç½®ä¸º `Development` æ—¶å¯ç”¨ï¼‰

### æ–¹å¼ Bï¼šä»æºç æ„å»ºï¼ˆç”¨äºå¼€å‘ï¼‰

#### å…ˆå†³æ¡ä»¶

- .NET 8.0 SDK æˆ–æ›´é«˜ç‰ˆæœ¬
- Node.js 18+ å’Œ npm 9+
- Git

#### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/AneiangSoft/Aneiang.Pa.News.git
cd Aneiang.Pa.News
```

#### 2. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd Pa.HotNews.Api
dotnet restore
dotnet run
```
åç«¯æœåŠ¡å°†è¿è¡Œåœ¨ `http://localhost:8080`ã€‚

#### 3. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯çª—å£ï¼š

```bash
cd Pa.HotNews.Web
npm install
npm run dev
```
å‰ç«¯å¼€å‘æœåŠ¡å™¨å°†è¿è¡Œåœ¨ `http://localhost:5173`ã€‚å®ƒå·²é€šè¿‡ `vite.config.js` é…ç½®äº†ä»£ç†ï¼Œæ‰€æœ‰ `/api` è¯·æ±‚éƒ½ä¼šè¢«è½¬å‘åˆ° `http://localhost:8080`ï¼Œå®ç°å‰åç«¯è”è°ƒã€‚

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
Aneiang.Pa.News/
â”œâ”€â”€ docments/           # æ–‡æ¡£å’Œæˆªå›¾
â”œâ”€â”€ Pa.HotNews.Api/     # .NET Web API åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ Controllers/    # API æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ Services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ Program.cs      # åº”ç”¨å…¥å£
â”œâ”€â”€ Pa.HotNews.Web/     # React å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ public/         # é™æ€èµ„æº
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/ # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/      # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ services/   # API è¯·æ±‚æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ utils/      # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ App.jsx     # åº”ç”¨æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.jsx    # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ vite.config.js  # Vite é…ç½®æ–‡ä»¶ï¼ˆå«ä»£ç†ï¼‰
â”‚   â””â”€â”€ package.json
â””â”€â”€ docker-compose.yml  # Docker Compose é…ç½®æ–‡ä»¶
```

## ğŸ”§ é…ç½®è¯´æ˜

### åç«¯ç¯å¢ƒå˜é‡ (Docker)

| ç¯å¢ƒå˜é‡ | è¯´æ˜ | ç¤ºä¾‹/é»˜è®¤ |
|---------|------|----------|
| `ASPNETCORE_ENVIRONMENT` | ç¯å¢ƒåç§° | `Production` |
| `ASPNETCORE_URLS` | æœåŠ¡ç›‘å¬åœ°å€ | `http://+:8080` |
| `Site__Title` | ç«™ç‚¹æ ‡é¢˜ | `Aneiang çƒ­æ¦œèšåˆ` |
| `Site__TitleSuffix` | æ ‡é¢˜åç¼€ | ` - å…¨ç½‘çƒ­ç‚¹å®æ—¶èšåˆ` |
| `Site__IcpLicense` | ICP å¤‡æ¡ˆå·ï¼ˆé¡µè„šå±•ç¤ºï¼‰ | `æ¹˜ICPå¤‡2023022000å·-2` |
| `LlmRanking__ApiKey` | å¤§æ¨¡å‹æ’è¡Œæ¦œ API Key | ç©º |
| `Scraper__CacheProvider` | çˆ¬è™«ç¼“å­˜æä¾›è€… | `Redis` / `Memory` |
| `Scraper__CacheDuration` | çˆ¬è™«ç¼“å­˜æ—¶é•¿ | `00:30:00` |
| `Scraper__Redis__Configuration` | Redis è¿æ¥ä¸² | `host:6379,password=***,defaultDatabase=3` |
| `Scraper__Redis__InstanceName` | Redis Key å‰ç¼€ | `Aneiang.Pa:` |

### å‰ç«¯ç¯å¢ƒå˜é‡ (`.env`)

åœ¨ `Pa.HotNews.Web` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶å¯è¦†ç›–é»˜è®¤é…ç½®ã€‚

| ç¯å¢ƒå˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
|---|---|---|
| `VITE_API_BASE_URL` | API åŸºç¡€è·¯å¾„ï¼ˆé€šå¸¸æ— éœ€ä¿®æ”¹ï¼‰ | `/api` |

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestã€‚åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ç¡®ä¿ï¼š

1. Fork é¡¹ç›®åˆ°ä½ çš„ GitHub è´¦æˆ·
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

## ğŸ™ è‡´è°¢

- [.NET](https://dotnet.microsoft.com/) - å¼ºå¤§çš„è·¨å¹³å°å¼€å‘æ¡†æ¶
- [Aneiang.Pa](https://pa.aneiang.com/) - åŠŸèƒ½ä¸°å¯Œçš„ .NET æ¨¡å—åŒ–çˆ¬è™«åº“
- [React](https://reactjs.org/) - ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“
- [Ant Design](https://ant.design/) - ä¼ä¸šçº§ UI è®¾è®¡è¯­è¨€
- [Vite](https://vitejs.dev/) - ä¸‹ä¸€ä»£å‰ç«¯å·¥å…·é“¾
- [ArtificialAnalysis](https://artificialanalysis.ai/) - å¤§æ¨¡å‹æ’è¡Œæ¦œæ•°æ®æº

## ğŸ“ è”ç³»æˆ‘ä»¬

- é‚®ç®±ï¼šaneiang@qq.com
- GitHub Issues: [https://github.com/AneiangSoft/Aneiang.Pa.News/issues](https://github.com/AneiangSoft/Aneiang.Pa.News/issues)
